# 0.9.x branch installation #

Supposed to be ready after installation and a reboot.

configure with proper prefix (--prefix=/usr --sysconfdir=/etc --libdir=/usr/lib64, usually, but FOLLOW the distributation conventions)

The following settings are relevant:

```
  GTK3_MODULES_DIR     GTK3_MODULES_DIR directory to install the gtk3 plugin module
  GTK2_MODULES_DIR     GTK2_MODULES_DIR directory to install the gtk2 plugin module
  EXTDIR      EXTDIR directory to install the extension
  GSCHEMASDIR GSCHEMASDIR directory to install the gschema
  SERVICESDIR SERVICESDIR directory to install the dbus service
```


After installation and a reboot, the AppMenu in GnomeShell(the second item on the top left bar) shows the Global Menu. Click and see. All application's menu disappears.

# Installation details #

Here is a tree of the installation, with the purpose of the file in comments.

```
_inst
|-- etc
|   `-- profile.d
|       `-- globalmenu.sh     # set GTK_MODULES environment of everyone
`-- usr
    |-- bin
    |   `-- gnome-globalmenu-manager  # the dbus daemon relating menu to xwindows, and transports the menu.
    |-- lib64
    |   |-- gtk-2.0
    |   |   `-- modules
    |   |       |-- libglobalmenu-gtk2.la              # libtool debrits
    |   |       |-- libglobalmenu-gtk2.so             # gtk2 module (change in size allocation model)
    |   |       `-- libglobalmenu-gtk.so -> libglobalmenu-gtk2.so  (symlink to make sure gtk2 and gtk3 modules have the same name)
    |   `-- gtk-3.0
    |       `-- modules
    |           |-- libglobalmenu-gtk.la                # libtool debrits
    |           `-- libglobalmenu-gtk.so              #gtk3 module
    `-- share
        |-- dbus-1
        |   `-- services
        |       `-- org.globalmenu.manager.service    # dbus autolaunch file for launching gnome-globalmenu-manager on demand
        |-- doc
        |   `-- gnome-globalmenu
        |       |-- AUTHORS
        |       |-- ChangeLog
        |       |-- COPYING
        |       |-- INSTALL
        |       `-- README
        |-- glib-2.0
        |   `-- schemas
        |       |-- gschemas.compiled                      # file generated by glib-schema-compiler
        |       `-- org.globalmenu.gschema.xml    # gsettings key org.globalmenu:/enabled, can be true or false. You still have to logout to get things into effects
        |-- gnome-shell
        |   `-- extensions
        |       `-- GlobalMenu@globalmenu.org
        |           |-- extension.js                                           # plugin main module
        |           |-- GlobalMenuGnomeShell-1.0.typelib # exposing some non gi friendly MetaWindow api to javascript
        |           |-- metadata.json                                       #plugin junkies
        |           `-- stylesheet.css                                      #stylesheet customizations.
        `-- man
            `-- man1
                `-- gnome-globalmenu.1                              # man page needs updating.
```